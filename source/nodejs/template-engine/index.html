<!DOCTYPE html>
<html>

<head>
    <script src="./lib/expression-parser.js"></script>
    <script src="./lib/template-engine.js"></script>
    <script src="./lib/app.js"></script>

    <link rel="stylesheet" href="app.css" type="text/css" />
</head>

<body>
    <div style="display: flex; flex-direction: column; height: 100%; padding: 8px;">
        <div style="display: flex; flex-direction: row; flex: 1 1 100%;">
            <textarea id="data" style="font-size: 22px; width: 100%; flex: 1 1 100%;">
{
    "firstName": "David",
    "lastName": "Claux",
    "age": 45,
    "address": {
        "city": "Redmond",
        "state": "WA"
    },
    "children": [
        { "name": "Alexandre", "age": 13 },
        { "name": "Thomas", "age": 9 }
    ]
}                
            </textarea>
            <textarea id="input" style="font-size: 22px; width: 100%; flex: 1 1 100%;">
{
    "type": "AdaptiveCard",
    "version": "1.0",
    "body": [
        {
            "type": "TextBlock",
            "text": "**First name:** {firstName}"
        },
        {
            "type": "TextBlock",
            "text": "**Last name:** {lastName}"
        },
        {
            "type": "TextBlock",
            "text": "Children:"
        },
        {
            "type": "Container",
            "$data": "{children}",
            "items": [
                {
                    "type": "TextBlock",
                    "text": "{name} ({age})"
                },
                {
                    "type": "Container",
                    "$data": "{$root.children}",
                    "items": [
                        {
                            "type": "TextBlock",
                            "text": "From root: {name} ({age})"
                        }
                    ]
                }
            ]
        },
        {
            "type": "TextBlock",
            "text": "**Last name:** {lastName}"
        }
    ]
}
            </textarea>
        </div>
        <button id="btnExpandTemplate" style="flex: 0 0 auto; margin: 8px 0; padding: 8px; width: 200px;">Expand template</button>
        <textarea id="output" style="font-size: 22px; width: 100%; flex: 1 1 100%;"></textarea>
    </div>
</body>

</html>